<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>PDF to JPG â€“ Toolswa</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Convert PDF pages to JPG images online for free. Toolswa.">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
body{margin:0;font-family:Inter,sans-serif;background:#f3f4f6}
.container{max-width:900px;margin:80px auto;padding:0 20px}
.card{background:#fff;padding:50px;border-radius:22px;box-shadow:0 25px 40px rgba(0,0,0,.08);text-align:center}
h1{font-size:32px;margin-bottom:8px}
.desc{color:#6b7280;margin-bottom:35px}
.upload-box{border:2px dashed #e11d48;border-radius:22px;padding:50px 20px;cursor:pointer}
.upload-box:hover{background:#fff5f7}
.upload-icon{font-size:46px;margin-bottom:12px}
.upload-title{font-size:18px;font-weight:600}
.upload-sub{font-size:14px;color:#6b7280}
input{display:none}
.file-info{margin-top:16px;font-weight:600}
button{margin-top:30px;background:#e11d48;color:#fff;border:none;padding:16px 45px;font-size:16px;font-weight:600;border-radius:50px;cursor:pointer}
button:disabled{opacity:.5}
.note{margin-top:18px;font-size:13px;color:#6b7280}
</style>
</head>

<body>
<div class="container">
  <div class="card">
    <h1>PDF to JPG</h1>
    <p class="desc">Convert each PDF page into a JPG image.</p>

    <div class="upload-box" id="uploadBox">
      <div class="upload-icon">ðŸ“„</div>
      <div class="upload-title">Select PDF file</div>
      <div class="upload-sub">Each page becomes a JPG</div>
    </div>

    <input type="file" id="pdfInput" accept="application/pdf">
    <div id="fileInfo" class="file-info"></div>

    <button id="convertBtn" disabled>Convert to JPG</button>
    <div class="note">ðŸ”’ Files processed locally in your browser.</div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
<script>
const uploadBox=document.getElementById("uploadBox");
const input=document.getElementById("pdfInput");
const info=document.getElementById("fileInfo");
const btn=document.getElementById("convertBtn");
let file=null;

uploadBox.onclick=()=>input.click();
input.onchange=()=>{
  file=input.files[0];
  if(file){info.textContent=file.name;btn.disabled=false}
  else{info.textContent="";btn.disabled=true}
};

btn.onclick=async()=>{
  try{
    btn.textContent="Converting...";
    btn.disabled=true;

    const buf=await file.arrayBuffer();
    const pdf=await pdfjsLib.getDocument({data:buf}).promise;

    for(let i=1;i<=pdf.numPages;i++){
      const page=await pdf.getPage(i);
      const viewport=page.getViewport({scale:2});
      const canvas=document.createElement("canvas");
      const ctx=canvas.getContext("2d");
      canvas.width=viewport.width;
      canvas.height=viewport.height;
      await page.render({canvasContext:ctx,viewport}).promise;

      const img=canvas.toDataURL("image/jpeg",0.9);
      const a=document.createElement("a");
      a.href=img;
      a.download=`toolswa-page-${i}.jpg`;
      a.click();
    }
  }catch(e){
    alert("Failed to convert PDF.");
    console.error(e);
  }
  btn.textContent="Convert to JPG";
  btn.disabled=false;
};
</script>
</body>
</html>
